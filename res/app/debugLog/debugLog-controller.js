var jwtutil = require('../../../lib/util/jwtutil')
module.exports =
  function debugLogCtrl($scope,$routeParams,LogcatService,$http,$httpParamSerializerJQLike) {
    console.log(JSON.parse($routeParams.dataList));
    $scope.phoneMessage = {}
    if(JSON.parse($routeParams.dataList).phoneSelect) {
      console.log(1111)
      $scope.phoneMessage = JSON.parse($routeParams.dataList)
    } else {
      console.log(7777)
    }
    // $scope.phoneMessage = JSON.parse($routeParams.dataList)
    $scope.filters = {}
    $scope.filters.levelNumbers = LogcatService.filters.levelNumbers
    $scope.classNameList = [ 'log-Debug', ' log-Info','log-Error'];
    $scope.dataList = [
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "p worked:false 60000",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Error",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: mAmbientLuxValid=true, AAL=true",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Info",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      },
      {
        "date": 1608791259.462,
        "dateLabel": "14:27:39.462",
        "deviceLabel": "Android",
        "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
        "message": "updateAmbientLux: ambientLux=410.45688, timeToBrighten=2000, timeToDarken=6000, current=487.18106",
        "pid": 989,
        "priority": 3,
        "priorityLabel": "Debug",
        "serial": "A02AECPN2QEU6",
        "tag": "AutomaticBrightnessController",
        "tid": 1115
      }

    ],
    $scope.imageList = [];
     $scope.tableScroll = document.getElementsByClassName("scrollTable");
     console.log($scope.tableScroll[0]);
     function throttledScrollListener(){
      $scope.getDistance($scope.tableScroll[0]);
     }
     $scope.tableScroll[0].addEventListener('scroll', throttledScrollListener, false)
     $scope.$on('$destroy', function() {
      parent.removeEventListener('scroll', throttledScrollListener)
    })

    $scope.getDistance = function(event) {
      var scrollDistance =event.scrollHeight - event.scrollTop - event.clientHeight
          if(scrollDistance <=0){//等于0证明已经到底，可以请求接口
              // do something
              console.log("可以请求接口")
              setTimeout(function () {
                $scope.message = "时间到";
                // AngularJS unaware of update to $scope
                $scope.$apply(function () {  
                  $scope.dataList.push(
                    {
                      "date": 1608791259.462,
                      "dateLabel": "14:27:39.462",
                      "deviceLabel": "Android",
                      "logsSerial": ["A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6", "A02AECPN2QEU6"],
                      "message": "p worked:false 60000",
                      "pid": 989,
                      "priority": 3,
                      "priorityLabel": "Error",
                      "serial": "A02AECPN2QEU6",
                      "tag": "AutomaticBrightnessController",
                      "tid": 666
                    }
                  )  
              }); 
            }, 200);
              console.log($scope.dataList)
          }
  }
        $http({
          method: 'POST',
          url: jwtutil.baseUrl + '/stf/getPictureList',
          data: $httpParamSerializerJQLike({debugId:133}), 
          headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8' } 
      })
      .success(function(data) {
          $scope.imageList = data
         var row = document.getElementsByClassName('imgListClass')[0];
         $scope.imageList.forEach(function(image){
          var a = document.createElement('a');
          var div = document.createElement('div');
          div.className = 'col-xs-1-5'
          a.href = jwtutil.baseUrl  + image.pictureUrl
          var img = document.createElement('img');
          div.appendChild(img)
          img.src = jwtutil.baseUrl  + image.pictureUrl
          div.appendChild(a);
          a.appendChild(img);
          row.appendChild(div);
         })
      });

      $scope.downLoadImg = function() {
        $http({
          method: 'POST',
          url: jwtutil.baseUrl + '/stf/batchDownloadPicture',
          data: $httpParamSerializerJQLike({debugId:133}), 
          headers: { 'Content-Type': 'application/x-www-form-urlencoded;charset=utf-8' } 
      })

        var aClick = document.createElement('a');
        aClick.setAttribute('href', jwtutil.baseUrl + '/stf/batchDownloadPicture?debugId=133');
        document.body.appendChild(aClick);
        aClick.click();

      }

  }
